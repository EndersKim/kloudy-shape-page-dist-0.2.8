(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7448c2e2"],{4682:function(t,i,e){},7156:function(t,i,e){var s=e("1626"),n=e("861d"),r=e("d2bb");t.exports=function(t,i,e){var o,a;return r&&s(o=i.constructor)&&o!==e&&n(a=o.prototype)&&a!==e.prototype&&r(t,a),t}},"831b":function(t,i,e){"use strict";e("4682")},ab36:function(t,i,e){var s=e("861d"),n=e("9112");t.exports=function(t,i){s(i)&&"cause"in i&&n(t,"cause",i.cause)}},b980:function(t,i,e){var s=e("d039"),n=e("5c6c");t.exports=!s((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",n(1,7)),7!==t.stack)}))},bc35:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"music_player"},[t.song?e("audio",{ref:"audio",attrs:{src:t.song.url},on:{playing:t.on_play,pause:t.on_pause,durationchange:t.on_durationchange,ended:t.on_ended,timeupdate:t.on_timeupdate}}):t._e(),e("div",{staticClass:"bg"},[e("div",{staticClass:"bg_item",style:{"background-image":"url("+(t.bg||"https://p3.music.126.net/RqETzZ6adFhaO3vsEfqc8w==/109951166180017156.jpg")+")"}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"song_info"},[e("div",{staticClass:"song_cover",class:{active:t.song}},[t.song?e("img",{attrs:{src:t.song.cover,alt:""},on:{load:t.song_cover_load}}):e("span",{staticClass:"no_cover"},[t._v("")])]),e("div",{staticClass:"song_text"},[t.song?e("h2",[t._v(t._s(t.song.name))]):e("h2",[t._v("未在播放")]),t.song?e("p",[t._v(t._s(t.song.artist))]):t._e()]),e("div",{staticClass:"song_right"},[e("Popper",[e("button",{class:{active:t.show_playlist},on:{click:t.show_playlist_action}},[t._v("")]),e("template",{slot:"dropdown"},[e("span",[t._v(t._s(t.show_playlist?"隐藏":"显示")+"播放列表")])])],2),e("Popper",[e("button",{class:{active:t.show_lrc},on:{click:t.show_lrc_action}},[t._v("")]),e("template",{slot:"dropdown"},[e("span",[t._v(t._s(t.show_lrc?"隐藏":"显示")+"歌词")])])],2)],1)]),e("div",{staticClass:"main_area"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_playlist,expression:"show_playlist"}],staticClass:"playlist_container"},[e("ScrollBox",[e("div",{staticStyle:{height:"20px"}}),t._l(t.playlist,(function(i,s){return e("div",{staticClass:"playlist_item",class:{playing:s==t.song_index},on:{click:function(i){return t.play_song(s)}}},[e("div",{staticClass:"song_index"},[e("p",[t._v(t._s(s+1))])]),e("div",{staticClass:"song_text"},[e("p",{staticClass:"song_title"},[t._v(t._s(i.name))]),e("p",{staticClass:"song_artist"},[t._v(t._s(i.artist))])])])})),e("div",{staticStyle:{height:"20px"}})],2)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_playlist&&t.show_lrc,expression:"show_playlist && show_lrc"}],staticClass:"center",staticStyle:{width:"20px"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_lrc,expression:"show_lrc"}],ref:"lrc_container",staticClass:"lrc_container",class:{center:t.settings.lrc_center}},[e("div",{staticClass:"lrc_playing"},[t.lrc?t._e():e("h2",{staticClass:"lrc_row_not_playing"},[t._v("未在播放")]),t.lrc?t._l(t.lrc,(function(i,s){return e("div",{staticClass:"lrc_row",class:{passed:t.active_lrc_row>s,active:t.active_lrc_row==s},style:{transform:t.lrc_row_transform(i,s),"transition-delay":t.lrc_row_delay(i,s),filter:"blur("+Math.min(Math.abs(t.active_lrc_row-s),5)+"px)"},attrs:{id:"lrc_row_"+s},on:{click:function(e){return t.click_lrc_row(i,s)}}},[i.text?e("p",{staticClass:"text"},[t._v(t._s(i.text))]):e("p",{staticClass:"empty"},[e("span",{staticClass:"circle1"}),e("span",{staticClass:"circle2"}),e("span",{staticClass:"circle3"})]),i.translate?e("p",{staticClass:"translate"},[t._v(t._s(i.translate))]):t._e()])})):t._e()],2)])]),e("div",{staticClass:"ctrl_container"},[e("div",{staticClass:"song_bar_box"},[e("div",{staticClass:"bar_bg"},[e("div",{staticClass:"bar_inner",style:{width:t.song_progress}})]),e("div",{staticClass:"bar_text"},[e("p",[t._v(t._s(t.display_time(t.current_time)))]),e("p",[t._v(t._s(t.display_time(t.duration)))])])]),e("div",{staticClass:"song_buttons_box"},[e("div",{staticClass:"song_buttons_left"},[e("Popper",{attrs:{clickable:"",placement:"top"}},[e("button",{staticClass:"volume_button",on:{click:t.click_volume_button}},[e("svg",{staticStyle:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",width:"236px",height:"236px",version:"1.1",viewBox:"0 0 236 236",t:"1676558025884","p-id":"14419"}},[e("path",{attrs:{d:"M90.72 213.48c-1.78,0 -3.52,-0.69 -4.82,-2l-52.57 -52.56 -24.45 0c-3.77,0 -6.82,-3.05 -6.82,-6.82l0 -68.2c0,-3.77 3.05,-6.82 6.82,-6.82l24.45 0 52.57 -52.56c1.95,-1.95 4.88,-2.54 7.43,-1.48 2.55,1.05 4.21,3.54 4.21,6.3l0 177.32c0,2.76 -1.66,5.25 -4.21,6.31 -0.84,0.34 -1.73,0.51 -2.61,0.51l0 0z","p-id":"14421"}}),e("path",{directives:[{name:"show",rawName:"v-show",value:t.volume<=0,expression:"volume <= 0"}],attrs:{d:"M128.13 66.76c4,-4 10.54,-4 14.54,0l36.7 36.7 36.69 -36.7c4,-4 10.54,-4 14.54,0 4,4 4,10.54 0,14.54l-36.69 36.7 36.69 36.7c4,3.99 4,10.54 0,14.54 -4,4 -10.54,4 -14.54,0l-36.69 -36.7 -36.7 36.7c-4,4 -10.54,4 -14.54,0 -4,-4 -4,-10.55 0,-14.54l36.7 -36.7 -36.7 -36.7c-4,-4 -4,-10.54 0,-14.54z"}}),t.volume>0?[e("path",{class:{light:t.volume<.25},attrs:{d:"M119.07 166.81c-2.62,0 -5.24,-1 -7.23,-2.99 -4,-3.99 -4,-10.47 0,-14.47 17.28,-17.28 17.28,-45.4 0,-62.69 -4,-3.99 -4,-10.47 0,-14.47 3.99,-4 10.47,-3.99 14.47,0 25.26,25.27 25.26,66.37 0,91.63 -2,1.99 -4.62,2.99 -7.24,2.99l0 0z","p-id":"14420"}}),e("path",{class:{light:t.volume<.5},attrs:{d:"M155.41 186.1c-2.62,0 -5.24,-1 -7.24,-2.99 -3.99,-4 -3.99,-10.47 0,-14.47 27.93,-27.92 27.93,-73.35 0,-101.27 -3.99,-4 -3.99,-10.48 0,-14.47 4,-4 10.48,-4 14.47,0 17.39,17.39 26.97,40.51 26.97,65.1 0,24.59 -9.58,47.71 -26.97,65.1 -2,2 -4.61,3 -7.23,3l0 0 0 0z","p-id":"14420"}}),e("path",{class:{light:t.volume<.75},attrs:{d:"M191.75 205.39c-2.62,0 -5.24,-1 -7.23,-2.99 -4,-4 -4,-10.48 0,-14.47 18.67,-18.68 28.96,-43.52 28.96,-69.93 0,-26.42 -10.29,-51.25 -28.96,-69.93 -4,-3.99 -4,-10.47 0,-14.47 3.99,-4 10.47,-3.99 14.47,0 22.54,22.55 34.95,52.52 34.95,84.4 0,31.88 -12.41,61.85 -34.95,84.39 -2,2 -4.62,2.99 -7.24,2.99l0 0.01z","p-id":"14420"}})]:t._e()],2)]),e("template",{slot:"dropdown"},[e("div",{staticClass:"volume_range_box"},[e("button",{staticClass:"volume_button",on:{click:function(i){t.volume=Math.max(0,1*t.volume-.1)}}},[e("svg",{staticStyle:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",width:"236px",height:"236px",version:"1.1",viewBox:"0 0 236 236",t:"1676558025884","p-id":"14419"}},[e("path",{attrs:{d:"M90.72 213.48c-1.78,0 -3.52,-0.69 -4.82,-2l-52.57 -52.56 -24.45 0c-3.77,0 -6.82,-3.05 -6.82,-6.82l0 -68.2c0,-3.77 3.05,-6.82 6.82,-6.82l24.45 0 52.57 -52.56c1.95,-1.95 4.88,-2.54 7.43,-1.48 2.55,1.05 4.21,3.54 4.21,6.3l0 177.32c0,2.76 -1.66,5.25 -4.21,6.31 -0.84,0.34 -1.73,0.51 -2.61,0.51l0 0z","p-id":"14421"}}),e("path",{attrs:{d:"M119.07 166.81c-2.62,0 -5.24,-1 -7.23,-2.99 -4,-3.99 -4,-10.47 0,-14.47 17.28,-17.28 17.28,-45.4 0,-62.69 -4,-3.99 -4,-10.47 0,-14.47 3.99,-4 10.47,-3.99 14.47,0 25.26,25.27 25.26,66.37 0,91.63 -2,1.99 -4.62,2.99 -7.24,2.99l0 0z","p-id":"14420"}}),e("path",{staticClass:"light",attrs:{d:"M155.41 186.1c-2.62,0 -5.24,-1 -7.24,-2.99 -3.99,-4 -3.99,-10.47 0,-14.47 27.93,-27.92 27.93,-73.35 0,-101.27 -3.99,-4 -3.99,-10.48 0,-14.47 4,-4 10.48,-4 14.47,0 17.39,17.39 26.97,40.51 26.97,65.1 0,24.59 -9.58,47.71 -26.97,65.1 -2,2 -4.61,3 -7.23,3l0 0 0 0z","p-id":"14420"}}),e("path",{staticClass:"light",attrs:{d:"M191.75 205.39c-2.62,0 -5.24,-1 -7.23,-2.99 -4,-4 -4,-10.48 0,-14.47 18.67,-18.68 28.96,-43.52 28.96,-69.93 0,-26.42 -10.29,-51.25 -28.96,-69.93 -4,-3.99 -4,-10.47 0,-14.47 3.99,-4 10.47,-3.99 14.47,0 22.54,22.55 34.95,52.52 34.95,84.4 0,31.88 -12.41,61.85 -34.95,84.39 -2,2 -4.62,2.99 -7.24,2.99l0 0.01z","p-id":"14420"}})])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"volume_range",style:{"background-size":100*t.volume+"% 100%"},attrs:{type:"range",max:"1",step:"0.01"},domProps:{value:t.volume},on:{__r:function(i){t.volume=i.target.value}}}),e("button",{staticClass:"volume_button",on:{click:function(i){t.volume=Math.min(1,1*t.volume+.1)}}},[e("svg",{staticStyle:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",width:"236px",height:"236px",version:"1.1",viewBox:"0 0 236 236",t:"1676558025884","p-id":"14419"}},[e("path",{attrs:{d:"M90.72 213.48c-1.78,0 -3.52,-0.69 -4.82,-2l-52.57 -52.56 -24.45 0c-3.77,0 -6.82,-3.05 -6.82,-6.82l0 -68.2c0,-3.77 3.05,-6.82 6.82,-6.82l24.45 0 52.57 -52.56c1.95,-1.95 4.88,-2.54 7.43,-1.48 2.55,1.05 4.21,3.54 4.21,6.3l0 177.32c0,2.76 -1.66,5.25 -4.21,6.31 -0.84,0.34 -1.73,0.51 -2.61,0.51l0 0z","p-id":"14421"}}),e("path",{attrs:{d:"M119.07 166.81c-2.62,0 -5.24,-1 -7.23,-2.99 -4,-3.99 -4,-10.47 0,-14.47 17.28,-17.28 17.28,-45.4 0,-62.69 -4,-3.99 -4,-10.47 0,-14.47 3.99,-4 10.47,-3.99 14.47,0 25.26,25.27 25.26,66.37 0,91.63 -2,1.99 -4.62,2.99 -7.24,2.99l0 0z","p-id":"14420"}}),e("path",{attrs:{d:"M155.41 186.1c-2.62,0 -5.24,-1 -7.24,-2.99 -3.99,-4 -3.99,-10.47 0,-14.47 27.93,-27.92 27.93,-73.35 0,-101.27 -3.99,-4 -3.99,-10.48 0,-14.47 4,-4 10.48,-4 14.47,0 17.39,17.39 26.97,40.51 26.97,65.1 0,24.59 -9.58,47.71 -26.97,65.1 -2,2 -4.61,3 -7.23,3l0 0 0 0z","p-id":"14420"}}),e("path",{attrs:{d:"M191.75 205.39c-2.62,0 -5.24,-1 -7.23,-2.99 -4,-4 -4,-10.48 0,-14.47 18.67,-18.68 28.96,-43.52 28.96,-69.93 0,-26.42 -10.29,-51.25 -28.96,-69.93 -4,-3.99 -4,-10.47 0,-14.47 3.99,-4 10.47,-3.99 14.47,0 22.54,22.55 34.95,52.52 34.95,84.4 0,31.88 -12.41,61.85 -34.95,84.39 -2,2 -4.62,2.99 -7.24,2.99l0 0.01z","p-id":"14420"}})])])])])],2)],1),e("div",{staticClass:"song_buttons_center"},[e("Popper",{attrs:{placement:"top"}},[t.$App.window_innerWidth>615?e("button",{on:{click:function(i){return t.time_begin()}}},[t._v("")]):t._e(),e("template",{slot:"dropdown"},[e("span",[t._v("跳转到开始位置")])])],2),e("Popper",{attrs:{placement:"top"}},[e("button",{on:{click:function(i){return t.play_prev_song()}}},[t._v("")]),e("template",{slot:"dropdown"},[e("span",[t._v("上一首")])])],2),e("Popper",{attrs:{placement:"top"}},[e("button",{staticClass:"main_button",on:{click:function(i){return t.play_pause()}}},[t._v(t._s(t.playing?"":""))]),e("template",{slot:"dropdown"},[e("span",[t._v(t._s(t.playing?"暂停":"播放")+" "),e("kbd",[t._v("空格")])])])],2),e("Popper",{attrs:{placement:"top"}},[e("button",{on:{click:function(i){return t.play_next_song()}}},[t._v("")]),e("template",{slot:"dropdown"},[e("span",[t._v("下一首")])])],2),e("Popper",{attrs:{placement:"top"}},[t.$App.window_innerWidth>615?e("button",{on:{click:function(i){return t.stop_play_song()}}},[t._v("")]):t._e(),e("template",{slot:"dropdown"},[e("span",[t._v("停止播放")])])],2)],1),e("div",{staticClass:"song_buttons_right"},[e("Popper",{attrs:{placement:"top",clickable:""}},[e("button",{on:{click:function(i){t.open_settings=!0}}},[e("svg",{staticClass:"icon",attrs:{t:"1657631784891",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7201",width:"128",height:"128"}},[e("path",{attrs:{d:"M962.496 448.96c-3.584-19.84-22.656-39.808-42.304-44.288l-14.72-3.392c-34.624-10.432-65.536-33.536-84.992-67.328-19.648-33.984-24.128-72.576-15.616-107.968 0 0 0 0 0 0l4.288-13.824c5.952-19.264-1.792-45.76-17.216-58.816 0 0-13.824-11.712-52.992-34.304-39.168-22.592-56.128-28.736-56.128-28.736-19.008-6.848-45.76-0.32-59.52 14.464L612.928 115.84C586.56 140.672 551.104 155.904 512 155.904c-39.232 0-74.88-15.36-101.248-40.384L400.832 104.832C387.136 90.048 360.32 83.52 341.312 90.368c0 0-17.024 6.144-56.256 28.736C245.952 141.696 232.128 153.344 232.128 153.344 216.768 166.4 209.024 192.832 214.976 212.16l4.288 14.016c8.448 35.328 3.904 73.856-15.68 107.776C184 367.872 152.896 391.04 118.08 401.408L103.808 404.672c-19.648 4.48-38.72 24.448-42.304 44.288 0 0-3.2 17.792-3.2 63.04 0 45.248 3.2 62.976 3.2 62.976 3.584 19.84 22.656 39.808 42.304 44.288l13.952 3.2c0 0 0 0 0 0 34.944 10.304 66.112 33.536 85.824 67.584 19.648 33.984 24.128 72.576 15.616 107.968 0 0 0 0 0 0l-4.224 13.76c-5.952 19.264 1.792 45.76 17.216 58.816 0 0 13.824 11.712 52.992 34.304 39.168 22.592 56.128 28.736 56.128 28.736 19.008 6.848 45.76 0.32 59.52-14.464l9.792-10.56c26.432-25.024 62.08-40.448 101.376-40.448 39.296 0 75.008 15.424 101.44 40.512 0 0 0 0 0.064 0l9.728 10.496c13.76 14.784 40.512 21.312 59.52 14.464 0 0 17.024-6.144 56.256-28.736 39.168-22.592 52.928-34.304 52.928-34.304 15.424-13.056 23.168-39.488 17.216-58.816l-4.352-14.208c-8.32-35.264-3.84-73.664 15.744-107.52 19.648-34.048 50.88-57.216 85.824-67.584 0 0 0-0.064 0-0.064l13.952-3.2c19.648-4.48 38.72-24.448 42.304-44.288 0 0 3.2-17.792 3.2-63.04C965.696 466.752 962.496 448.96 962.496 448.96zM512 692.928c-99.904 0-180.928-81.024-180.928-180.928S412.096 331.136 512 331.136s180.928 81.024 180.928 180.928S611.904 692.928 512 692.928z","p-id":"7202"}})])]),e("template",{slot:"dropdown"},[e("span",[t._v("播放 / 暂停 "),e("kbd",[t._v("空格")])]),e("span",[t._v("音量增加 "),e("kbd",[t._v("方向键↑")])]),e("span",[t._v("音量减少 "),e("kbd",[t._v("方向键↓")])]),e("hr"),e("a",{on:{click:function(i){return t.time_backward()}}},[t._v("后退5秒 "),e("kbd",[t._v("方向键←")])]),e("a",{on:{click:function(i){return t.time_forward()}}},[t._v("前进5秒 "),e("kbd",[t._v("方向键→")])]),e("hr"),e("a",{on:{click:function(i){t.open_settings=!0}}},[t._v("播放器设置")])])],2)],1)])])]),e("Dialog",{attrs:{open:t.open_settings,title:"音乐播放器设置"},on:{close:function(i){t.open_settings=!1}}},[e("div",{staticClass:"music_settings"},[e("div",{staticClass:"row"},[e("p",[t._v("居中显示歌词")]),e("FormSwitch",{model:{value:t.settings.lrc_center,callback:function(i){t.$set(t.settings,"lrc_center",i)},expression:"settings.lrc_center"}})],1),e("div",{staticClass:"row"},[e("p",[t._v("导航栏")]),e("FormSwitch",{attrs:{on_text:"显示",off_text:"隐藏"},model:{value:t.$App.display_nav,callback:function(i){t.$set(t.$App,"display_nav",i)},expression:"$App.display_nav"}})],1),e("div",{staticClass:"row"},[e("p",[t._v("页脚")]),e("FormSwitch",{attrs:{on_text:"显示",off_text:"隐藏"},model:{value:t.$App.display_footer,callback:function(i){t.$set(t.$App,"display_footer",i)},expression:"$App.display_footer"}})],1)])])],1)},n=[];e("d9e2");function r(t){throw new TypeError('"'+t+'" is read-only')}e("d3b7"),e("3ca3"),e("ddb0"),e("fb6a"),e("b0c0"),e("d81d"),e("ac1f"),e("1276"),e("159b");var o={components:{Dialog:function(){return e.e("chunk-06d74022").then(e.bind(null,"8b5f"))},FormSwitch:function(){return e.e("chunk-396af39a").then(e.bind(null,"3488"))},ScrollBox:function(){return e.e("chunk-07b6930d").then(e.bind(null,"b652"))},Popper:function(){return e.e("chunk-35669aaa").then(e.bind(null,"ba37"))}},data:function(){return{playlist:[],song:null,song_index:-1,lrc:null,bg:null,duration:-1,current_time:0,show_lrc:!0,show_playlist:!0,active_lrc_row:-2,playing:!1,volume:.7,mute_volume:1,open_settings:!1,settings:{lrc_center:!1},lrc_container_scroll_top_target:0,lrc_container_scroll_direction:0,lrc_timer:null}},computed:{song_progress:function(){return this.duration>0?this.current_time/this.duration*100+"%":"0%"}},watch:{"$App.window_innerWidth":{immediate:!0,handler:function(t){t<780&&this.show_playlist&&(this.show_lrc=!1),this.update_lrc_position()}},volume:function(t){this.song&&(this.$refs.audio.volume=t)},active_lrc_row:function(t,i){this.lrc_container_scroll_direction=t>i?1:t<i?-1:0,this.update_lrc_position()}},mounted:function(){this.$App.display_footer=!1,this.$App.nav.plain=!0,this.get_playlist(this.$route.params.id),document.title="未在播放 - Kloudy Shape",document.addEventListener("keyup",this.key_event)},beforeDestroy:function(){this.$App.display_footer=!0,this.$App.nav.plain=!1,document.removeEventListener("keyup",this.key_event)},methods:{key_event:function(t){t.preventDefault();var i=t.key;switch(i){case" ":this.$message({message:this.playing?"暂停播放":"开始播放",group:"play_pause"}),this.play_pause();break;case"ArrowRight":this.$message({message:"前进5秒",group:"time_move"}),this.time_forward();break;case"ArrowLeft":this.$message({message:"后退5秒",group:"time_move"}),this.time_backward();break;case"ArrowUp":this.volume=Math.min(1,1*this.volume+.1),this.$message({message:"音量："+Math.round(100*this.volume)+"%",group:"volume"});break;case"ArrowDown":this.volume=Math.max(0,1*this.volume-.1),this.$message({message:"音量："+Math.round(100*this.volume)+"%",group:"volume"});break;default:break}},update_lrc_position:function(){var t=this;this.$refs.lrc_container&&this.$nextTick((function(){t.active_lrc_row<0&&(t.lrc_container_scroll_top_target=0);var i=1*getComputedStyle(t.$refs.lrc_container).height.slice(0,-2),e=document.getElementById("lrc_row_"+t.active_lrc_row);e&&(t.lrc_container_scroll_top_target=e.offsetTop-.3*i-100)}))},lrc_row_transform:function(t,i){var e=0;e=i>this.active_lrc_row?this.lrc_container_scroll_top_target-10:i==this.active_lrc_row?this.lrc_container_scroll_top_target:this.lrc_container_scroll_top_target+10;var s="translateY("+-1*e+"px)";return i==this.active_lrc_row?s+=" scale(1)":s+=" scale(.9)",s},lrc_row_delay:function(t,i){return this.lrc_container_scroll_direction>0&&i>this.active_lrc_row?.06*Math.min(i-this.active_lrc_row,5)+"s":"0s"},show_playlist_action:function(){var t=this;this.show_playlist?this.show_playlist=!1:(this.show_playlist=!0,this.$App.window_innerWidth<780&&(this.show_lrc=!1)),this.$nextTick((function(){t.update_lrc_position()}))},show_lrc_action:function(){var t=this;this.show_lrc?this.show_lrc=!1:(this.show_lrc=!0,this.$nextTick((function(){t.update_lrc_position()})),this.$App.window_innerWidth<780&&(this.show_playlist=!1))},clear_timer:function(){clearInterval(this.lrc_timer)},update_current_lrc:function(){var t=0,i=this.$refs.audio.currentTime;for(t;t<this.lrc.length;t++){var e=this.lrc[t],s=e.time-.35;if(i<s)break}this.active_lrc_row=t-1,this.wait_next_lrc()},wait_next_lrc:function(){var t=this;if(clearInterval(this.lrc_timer),this.playing){var i=this.active_lrc_row+1;if(i<0)r("next_row");else if(i>=this.lrc.length)return;var e=0;this.$refs.audio&&(e=this.$refs.audio.currentTime);var s=this.lrc[i].time-.35,n=1e3*(s-e);this.lrc_timer=setTimeout((function(){t.active_lrc_row=t.active_lrc_row+1,t.wait_next_lrc()}),n)}},on_play:function(){this.playing=!0,this.clear_timer(),this.wait_next_lrc()},on_pause:function(){this.playing=!1,this.$refs.audio&&(this.current_time=this.$refs.audio.currentTime),this.clear_timer()},on_durationchange:function(){this.duration=this.$refs.audio.duration},on_ended:function(){this.play_next_song()},on_timeupdate:function(){this.$refs.audio&&(this.current_time=this.$refs.audio.currentTime)},paste_song:function(t){var i={};return i.name=t.name,i.artist=t.artist,i.url=t.url,i.cover=t.pic,i.lrc_url=t.lrc,i},get_playlist:function(t){var i=this;this.$axios.get("https://api.injahow.cn/meting/",{params:{type:"playlist",id:t}}).then((function(e){var s=e.data;s.length>0?i.playlist=s.map(i.paste_song):i.$message({message:"无法找到此歌单："+t,status:"error"})}))},song_cover_load:function(){this.bg=this.song.cover},play_song:function(t){var i=this;this.clear_timer();var e=(t+this.playlist.length)%this.playlist.length;this.song_index!=e&&this.playlist[e]&&(this.song=this.playlist[e],this.song_index=e,document.title=this.song.name+" - Kloudy Shape",this.active_lrc_row=-1,this.get_lrc(),this.$nextTick((function(){i.$refs.audio.play(),i.$refs.audio.volume=i.volume})))},play_next_song:function(){this.play_song(this.song_index+1)},play_prev_song:function(){this.play_song(this.song_index-1)},play_pause:function(){this.playing?this.$refs.audio.pause():this.$refs.audio?this.$refs.audio.play():this.play_song(0)},time_begin:function(){this.$refs.audio&&(this.$refs.audio.currentTime=0,this.update_current_lrc())},time_forward:function(){this.$refs.audio&&(this.$refs.audio.currentTime+=5,this.update_current_lrc())},time_backward:function(){this.$refs.audio&&(this.$refs.audio.currentTime-=5,this.update_current_lrc())},stop_play_song:function(){this.playing=!1,this.song_index=-1,this.song=null,this.lrc=null,this.active_lrc_row=-2,this.duration=-1,this.current_time=0,this.clear_timer(),document.title="未在播放 - Kloudy Shape"},add_song:function(t){var i=this;this.$axios.get("https://api.injahow.cn/meting/",{params:{type:"song",id:t}}).then((function(t){var e=t.data[0];i.playlist.push(i.paste_song(e))}))},get_lrc:function(){var t=this;this.lrc=[],this.song.lrc?this.get_lrc_array():this.$axios.get(this.song.lrc_url).then((function(i){var e=i.data;t.song.lrc=e,t.get_lrc_array()}))},get_lrc_array:function(){var t=this;this.lrc=[];var i=this.song.lrc.split("\n");i.forEach((function(i){if(i.indexOf("[")>=0){var e,s,n=i.substring(i.indexOf("[")+1,i.indexOf("]")),r=n.split(":"),o=60*r[0]+1*r[1];i.indexOf(" (")>=0?(e=i.substring(i.indexOf("]")+1,i.indexOf(" (")),s=i.substring(i.indexOf(" (")+2,i.lastIndexOf(")"))):(e=i.substring(i.indexOf("]")+1),s=null),t.lrc.push({e:i,time_raw:n,time:o,text:e,translate:s})}}))},click_lrc_row:function(t,i){this.$refs.audio&&(this.$refs.audio.currentTime=t.time),this.active_lrc_row=i,this.$refs.audio.play()},display_time:function(t){if(t<=0)return"--:--";var i=Math.floor(t),e=Math.floor(i/60),s=i%60;return s<10&&(s="0"+s),e>0?e+":"+s:"0:"+s},click_volume_button:function(){this.volume>0?(this.mute_volume=this.volume,this.volume=0):this.volume=this.mute_volume}}},a=o,c=(e("831b"),e("2877")),l=Object(c["a"])(a,s,n,!1,null,null,null);i["default"]=l.exports},c770:function(t,i,e){var s=e("e330"),n=s("".replace),r=function(t){return String(Error(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(r);t.exports=function(t,i){if(a&&"string"==typeof t)while(i--)t=n(t,o,"");return t}},d81d:function(t,i,e){"use strict";var s=e("23e7"),n=e("b727").map,r=e("1dde"),o=r("map");s({target:"Array",proto:!0,forced:!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},d9e2:function(t,i,e){var s=e("23e7"),n=e("da84"),r=e("2ba4"),o=e("e5cb"),a="WebAssembly",c=n[a],l=7!==Error("e",{cause:7}).cause,u=function(t,i){var e={};e[t]=o(t,i,l),s({global:!0,forced:l},e)},_=function(t,i){if(c&&c[t]){var e={};e[t]=o(a+"."+t,i,l),s({target:a,stat:!0,forced:l},e)}};u("Error",(function(t){return function(i){return r(t,this,arguments)}})),u("EvalError",(function(t){return function(i){return r(t,this,arguments)}})),u("RangeError",(function(t){return function(i){return r(t,this,arguments)}})),u("ReferenceError",(function(t){return function(i){return r(t,this,arguments)}})),u("SyntaxError",(function(t){return function(i){return r(t,this,arguments)}})),u("TypeError",(function(t){return function(i){return r(t,this,arguments)}})),u("URIError",(function(t){return function(i){return r(t,this,arguments)}})),_("CompileError",(function(t){return function(i){return r(t,this,arguments)}})),_("LinkError",(function(t){return function(i){return r(t,this,arguments)}})),_("RuntimeError",(function(t){return function(i){return r(t,this,arguments)}}))},e391:function(t,i,e){var s=e("577e");t.exports=function(t,i){return void 0===t?arguments.length<2?"":i:s(t)}},e5cb:function(t,i,e){"use strict";var s=e("d066"),n=e("1a2d"),r=e("9112"),o=e("3a9b"),a=e("d2bb"),c=e("e893"),l=e("7156"),u=e("e391"),_=e("ab36"),p=e("c770"),h=e("b980"),d=e("c430");t.exports=function(t,i,e,v){var m=v?2:1,g=t.split("."),f=g[g.length-1],w=s.apply(null,g);if(w){var y=w.prototype;if(!d&&n(y,"cause")&&delete y.cause,!e)return w;var b=s("Error"),x=i((function(t,i){var e=u(v?i:t,void 0),s=v?new w(t):new w;return void 0!==e&&r(s,"message",e),h&&r(s,"stack",p(s.stack,2)),this&&o(y,this)&&l(s,this,x),arguments.length>m&&_(s,arguments[m]),s}));if(x.prototype=y,"Error"!==f&&(a?a(x,b):c(x,b,{name:!0})),c(x,w),!d)try{y.name!==f&&r(y,"name",f),y.constructor=x}catch(k){}return x}}}}]);